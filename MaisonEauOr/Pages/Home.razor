@page "/"
@inject AuthenticationStateProvider AuthStateProvider

<PageTitle>Maison eau d'or</PageTitle>

<MudContainer>
    <MudText Align="Align.Center">Hello tout le monde</MudText>
</MudContainer>


@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var authService = (AuthenticationService)AuthStateProvider;
            var defaultSession = new UserSession
                {
                    Identifier = Guid.NewGuid(),
                    Role = UserRole.Guest,
                    UserName = string.Empty
                };
            await authService.UpdateAuthentificationState(defaultSession);
        }        
    }
}